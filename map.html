<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Comidas AMICI - Ubicaci√≥n</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="icon" href="./assets/logo/logo_redondeado.png" type="image/svg+xml" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
    
    <style>
        /* ESTILOS GLOBALES */
        @import url('https://fonts.googleapis.com/css2?family=Hanken+Grotesk:ital,wght@0,100..900;1,100..900&display=swap');
        
        :root {
            --color-primary: #a6a182;
            --color-secondary: #1f2120;
            --text-color: #aeb0b4;
            --color-light: #fff;
            --color-divider: #ffffff1a;
            --dark-color-divider: #0e110d;
            --default-font: 'Hanken Grotesk', serif;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            background-color: #0e110d;
            font-family: var(--default-font);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .header-expand {
            display: flex;
            align-items: center;
            gap: 50px;
        }
        
        .container-logo {
            display: flex;
            align-items: center;
            gap: 20px;
            text-decoration: none;
        }
        
        .container-logo img {
            width: 110px;
            height: 65px;
            object-fit: cover;
        }
        
        .container-logo span {
            color: var(--color-light);
            font-size: 26px;
            font-weight: 600;
        }
           
        nav ul {
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .btn-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--color-light);
            font-size: 24px;
            cursor: pointer;
        }
        
        /* HERO SECTION */
        .background-container-hero {
            background-image: linear-gradient(rgba(10, 10, 10, 0.85), rgba(10, 10, 10, 0.85)), url(../images/home/hero-bg.jpg);
            background-size: cover;
            background-position: center;
            height: 65vh;
            background-attachment: fixed;
            display: flex;
            align-items: center;
            margin-top: 120px;
        }
        
        .background-container-hero .container {
            text-align: center;
        }
        
        .background-container-hero h1 {
            color: var(--color-light);
            font-size: 62px;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
        }
        
        .background-container-hero p {
            font-size: 18px;
        }
        
        .background-container-hero a {
            color: var(--text-color);
            text-decoration: none;
        }
        
        .background-container-hero a:hover {
            text-decoration: underline;
        }
        
        /* MAIN CONTENT */
        main {
            padding: 80px 0;
        }
        
        /* MAP SECTION */
        .container-map {
            margin: 40px 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .container-map iframe {
            width: 100%;
            height: 500px;
            border: none;
            display: block;
        }
        
        /* MAP CONTROLS */
        .map-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .map-btn {
            background-color: var(--color-primary);
            color: var(--color-light);
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }
        
        .map-btn:hover {
            background-color: var(--color-light);
            color: var(--color-secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(166, 161, 130, 0.4);
        }
        
        .map-btn i {
            font-size: 20px;
        }
        
        .btn-3d {
            background: linear-gradient(135deg, #a6a182, #8a8669);
            font-weight: 700;
        }
        
        .btn-3d:hover {
            background: linear-gradient(135deg, var(--color-light), #e0dcc5);
        }
        
        .btn-directions {
            background-color: var(--color-secondary);
        }
        
        .btn-get-location {
            background: linear-gradient(135deg, #2c3e50, #3498db);
        }
        
        /* LOCATION INFO */
        .location-info {
            background-color: var(--color-secondary);
            border-radius: 15px;
            padding: 30px;
            margin: 40px 0;
        }
        
        .location-info h2 {
            color: var(--color-primary);
            font-size: 28px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .info-item i {
            color: var(--color-primary);
            font-size: 24px;
            width: 40px;
        }
        
        .info-content h3 {
            color: var(--color-light);
            font-size: 18px;
            margin-bottom: 5px;
        }
        
        .info-content p {
            color: var(--text-color);
            font-size: 16px;
        }
        
        /* STREET VIEW PREVIEW */
        .street-view-container {
            margin: 40px 0;
            text-align: center;
        }
        
        .street-view-container h2 {
            color: var(--color-light);
            font-size: 28px;
            margin-bottom: 20px;
        }
        
        .street-view-preview {
            width: 100%;
            max-width: 800px;
            height: 400px;
            margin: 0 auto;
            background: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                        url('https://maps.googleapis.com/maps/api/streetview?size=800x400&location=-31.3073007,-64.4632021&fov=90&heading=235&pitch=10');
            background-size: cover;
            background-position: center;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .street-view-preview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
        }
        
        .street-view-preview > * {
            position: relative;
            z-index: 2;
        }
        
        .street-view-preview h3 {
            color: var(--color-light);
            font-size: 24px;
        }
        
        .street-view-preview p {
            color: var(--text-color);
            font-size: 16px;
            max-width: 600px;
            padding: 0 20px;
        }
        
        /* FOOTER */
        footer {
            background-color: var(--dark-color-divider);
            padding: 60px 0 20px;
            margin-top: 60px;
        }
        
        footer .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 40px;
        }
        
        footer .container-logo img {
            width: 150px;
            height: 70px;
            filter: brightness(0) invert(1);
        }
        
        footer .container-logo span {
            font-size: 28px;
            font-weight: 700;
            color: var(--color-primary);
        }
        
        footer ul {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        footer ul li {
            list-style: none;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        footer ul li i {
            color: var(--color-primary);
            font-size: 18px;
        }
        
        footer ul li span {
            font-size: 16px;
        }
        
        .container-social-copyright {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .container-social-copyright p {
            font-size: 14px;
            color: var(--text-color);
        }
        
        .container-social-copyright a {
            color: white;
        }
        
        /* RESPONSIVE */
        @media (max-width: 992px) {
            .header-expand {
                justify-content: space-between;
            }
            
            .background-container-hero {
                height: 50vh;
                margin-top: 100px;
            }
            
            .background-container-hero h1 {
                font-size: 48px;
            }
            
            .map-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .map-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            footer .content {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .background-container-hero {
                height: 40vh;
                margin-top: 80px;
            }
            
            .background-container-hero h1 {
                font-size: 36px;
            }
            
            .container-logo span {
                font-size: 20px;
            }
            
            .container-map iframe {
                height: 400px;
            }
            
            .container-social-copyright {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .street-view-preview {
                height: 300px;
            }
        }
        
        @media (max-width: 480px) {
            .background-container-hero h1 {
                font-size: 28px;
            }
            
            .container-map iframe {
                height: 300px;
            }
            
            .map-btn {
                padding: 12px 20px;
                font-size: 14px;
            }
            
            .location-info {
                padding: 20px;
            }
        }
        
        /* MENU RESPONSIVE */
        .menu-responsive {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: var(--color-primary);
            display: none;
            flex-direction: column;
            padding: 20px;
            z-index: 1000;
        }
        
        .menu-responsive.active {
            display: flex;
        }
        
        .menu-responsive ul {
            flex-direction: column;
            gap: 15px;
        }
        
        .menu-responsive ul li a {
            color: var(--color-light);
            font-size: 18px;
            padding: 10px 0;
            display: block;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .menu-responsive ul li:last-child a {
            border-bottom: none;
        }
        
        /* LOCATION MESSAGE - ESTILOS MEJORADOS */
        .location-message {
            margin: 10px auto 30px auto;
            padding: 15px 20px;
            background: rgba(166, 161, 130, 0.1);
            border-radius: 12px;
            display: none;
            text-align: center;
            font-size: 14px;
            max-width: 800px;
            border-left: 4px solid var(--color-primary);
            animation: fadeIn 0.3s ease;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .location-message.show {
            display: block;
        }
        
        .location-message.error {
            background: rgba(231, 76, 60, 0.1);
            color: #e74c3c;
            border-left: 4px solid #e74c3c;
        }
        
        .location-message.success {
            background: rgba(46, 204, 113, 0.1);
            color: #2ecc71;
            border-left: 4px solid #2ecc71;
        }
        
        .location-message.info {
            background: rgba(52, 152, 219, 0.1);
            color: #3498db;
            border-left: 4px solid #3498db;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* MODAL PARA MOSTRAR RECORRIDO */
        .route-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        
        .route-modal.active {
            display: flex;
        }
        
        .modal-content {
            background: var(--color-secondary);
            border-radius: 15px;
            width: 95%;
            max-width: 900px;
            max-height: 95vh;
            overflow: hidden;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        
        .modal-header {
            background: var(--color-primary);
            color: var(--color-light);
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            margin: 0;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: var(--color-light);
            font-size: 28px;
            cursor: pointer;
            padding: 5px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .close-modal:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .modal-body {
            padding: 25px;
            overflow-y: auto;
        }
        
        .route-map-container {
            width: 100%;
            height: 450px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 25px;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .route-map-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        .route-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .route-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 18px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.3s, background-color 0.3s;
        }
        
        .route-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-2px);
        }
        
        .route-item i {
            color: var(--color-primary);
            font-size: 22px;
            width: 30px;
        }
        
        .route-item div {
            flex: 1;
        }
        
        .route-item .label {
            font-size: 12px;
            color: var(--text-color);
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .route-item .value {
            font-size: 16px;
            color: var(--color-light);
            font-weight: 600;
        }
        
        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .modal-btn {
            padding: 14px 30px;
            border-radius: 50px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 15px;
            min-width: 200px;
            justify-content: center;
        }
        
        .modal-btn-primary {
            background: var(--color-primary);
            color: var(--color-light);
        }
        
        .modal-btn-primary:hover {
            background: var(--color-light);
            color: var(--color-secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(166, 161, 130, 0.3);
        }
        
        .modal-btn-secondary {
            background: transparent;
            color: var(--color-light);
            border: 2px solid var(--color-primary);
        }
        
        .modal-btn-secondary:hover {
            background: var(--color-primary);
            color: var(--color-light);
            transform: translateY(-2px);
        }
        
        /* LOADING SPINNER */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: var(--color-primary);
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* LOADER PARA EL MAPA */
        .map-loader {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }
        
        .map-loader.active {
            display: block;
        }
        
        /* ESTILOS PARA PANTALLAS MUY PEQUE√ëAS (290px - 400px) */
        @media (max-width: 400px) {
            .background-container-hero h1 {
                font-size: 24px;
            }
            
            .background-container-hero p {
                font-size: 14px;
            }
            
            .map-btn {
                padding: 10px 15px;
                font-size: 13px;
                gap: 8px;
            }
            
            .map-btn i {
                font-size: 16px;
            }
            
            .modal-btn {
                padding: 12px 20px;
                font-size: 14px;
                min-width: 160px;
            }
            
            .route-map-container {
                height: 350px;
            }
            
            .route-info {
                grid-template-columns: 1fr;
            }
        }
        
        /* ESTILOS PARA PANTALLAS EXTRA GRANDES */
        @media (min-width: 1400px) {
            .container {
                max-width: 1300px;
            }
            
            .background-container-hero h1 {
                font-size: 72px;
            }
            
            .container-map iframe {
                height: 600px;
            }
        }
        
        /* MEJORAS DE ACCESIBILIDAD */
        .map-btn:focus,
        .modal-btn:focus,
        .close-modal:focus {
            outline: 2px solid #4dabf7;
            outline-offset: 2px;
        }
        
        /* CORRECCI√ìN PARA BOOTSTRAP NAVBAR EN DISPOSITIVOS PEQUE√ëOS */
        @media (max-width: 992px) {
            .navbar-nav {
                text-align: center;
                padding: 20px 0;
            }
            
            .navbar-nav .nav-item {
                margin: 10px 0;
            }
            
            .navbar-nav .nav-link {
                padding: 12px 20px !important;
                font-size: 16px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                width: 100%;
                border-radius: 8px;
                transition: all 0.3s;
            }
            
            .navbar-nav .nav-link:hover {
                background-color: rgba(255, 255, 255, 0.1);
            }
            
            .navbar-toggler {
                padding: 6px 10px;
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
            
            .navbar-toggler:focus {
                box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.25);
            }
        }
        
        /* CORRECCI√ìN DE ESPACIADO PARA M√ìVILES */
        @media (max-width: 768px) {
            main {
                padding: 50px 0;
            }
            
            .location-info {
                margin: 30px 0;
                padding: 25px;
            }
            
            .street-view-container {
                margin: 30px 0;
            }
            
            .map-controls {
                gap: 15px;
                margin: 25px 0;
            }
        }
        
        /* CORRECCI√ìN PARA PANTALLAS DE ALTA DENSIDAD */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .map-btn,
            .modal-btn {
                font-weight: 500;
            }
        }
        
        /* PREVENIR ZOOM EN IOS AL TOCAR INPUTS */
        @media screen and (max-width: 768px) {
            input,
            select,
            textarea {
                font-size: 16px !important;
            }
        }
        
        /* MEJORA DE RENDIMIENTO PARA ANIMACIONES */
        .map-btn,
        .modal-btn,
        .route-item {
            will-change: transform;
            transform: translateZ(0);
        }
        
        /* CORRECCI√ìN PARA FIREFOX */
        @-moz-document url-prefix() {
            .map-btn,
            .modal-btn {
                transition: all 0.2s ease;
            }
        }
    </style>
</head>
<body>
    <!-- HEADER -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top shadow-sm py-3" style="background-color: rgba(33, 37, 41, 0.95); backdrop-filter: blur(10px);">
        <div class="container">
            <!-- Logo/Brand -->
            <a class="navbar-brand fw-bold text-white" href="index.html">
                <span style="font-size: 1.4rem;">Comidas AMICI</span>
            </a>
            
            <!-- Bot√≥n hamburguesa (responsive) -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <!-- Contenido del men√∫ -->
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link text-white" href="index.html#menu_amici">
                            <i class="fa-solid fa-utensils me-2"></i> VER MEN√ö
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="index_form_ubicaci√≥n.html">
                            <i class="fa-solid fa-envelope me-2"></i> CONTACTO
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="map.html">
                            <i class="fa-solid fa-location-dot me-2"></i> UBICACI√ìN
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="background-container-hero">
        <div class="container">
            <h1>Nuestra Ubicaci√≥n</h1>
            <p>
                <a href='index.html' style="color: var(--color-primary); text-decoration: none;">Inicio</a> 
                <span style="color: var(--text-color);"> / </span>
                <span style="color: var(--color-light); font-weight: 500;">Ubicaci√≥n</span>
            </p>
        </div>
    </section>

    <!-- MAIN CONTENT -->
    <main class="container">
        <!-- MAPA EMBEBIDO -->
        <section class="container-map">
            <div class="map-loader" id="mapLoader">
                <div class="spinner"></div>
            </div>
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d6817.6959124335435!2d-64.46668851069397!3d-31.307947198104166!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMzHCsDE4JzI2LjIiUyA2NMKwMjcnNDguMCJX!5e0!3m2!1ses!2sar!4v1765820066938!5m2!1ses!2sar" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade"
                onload="document.getElementById('mapLoader').classList.remove('active')"
                onloadstart="document.getElementById('mapLoader').classList.add('active')">
            </iframe>
        </section>

        <!-- CONTROLES DEL MAPA -->
        <div class="map-controls">
            <!-- BOT√ìN INTELIGENTE CON GEOLOCALIZACI√ìN -->
            <button type="button" class="map-btn btn-directions" id="getDirectionsBtn">
                <i class="fas fa-directions"></i>
                Ver recorrido desde mi ubicaci√≥n
            </button>
            
            <a href="https://www.google.com/maps/place/AMICI+pizza+y+lomos/@-31.3074574,-64.4633237,3a,75y,51.42h,93.05t/data=!3m7!1e1!3m5!1sS7tINPoBRRVwuR9i01qZmw!2e0!6shttps:%2F%2Fstreetviewpixels-pa.googleapis.com%2Fv1%2Fthumbnail%3Fcb_client%3Dmaps_sv.tactile%26w%3D900%26h%3D600%26pitch%3D-3.051350058122196%26panoid%3DS7tINPoBRRVwuR9i01qZmw%26yaw%3D51.421320818227734!7i16384!8i8192!4m15!1m8!3m7!1s0x942d6550e7718de5:0x101de55630bce728!2sAMICI+pizza+y+lomos!8m2!3d-31.3073007!4d-64.4632021!10e1!16s%2Fg%2F11s_z0gg11!3m5!1s0x942d6550e7718de5:0x101de55630bce728!8m2!3d-31.3073007!4d-64.4632021!16s%2Fg%2F11s_z0gg11?entry=ttu&g_ep=EgoyMDI2MDEwNy.0IKXMDSoASAFQAw%3D%3D" 
               target="_blank" 
               class="map-btn btn-3d">
                <i class="fas fa-street-view"></i>
                Ver en 3D / Street View
            </a>
            
            <a href="https://wa.me/543541387884?text=Hola%20AMICI,%20quiero%20hacer%20un%20pedido%20üìç" 
               target="_blank" 
               class="map-btn">
                <i class="fab fa-whatsapp"></i>
                Pedir por WhatsApp
            </a>
        </div>

        <!-- MENSAJE DE UBICACI√ìN -->
        <div class="location-message" id="locationMessage"></div>

        <!-- INFORMACI√ìN DE UBICACI√ìN -->
        <section class="location-info">
            <h2><i class="fas fa-map-marker-alt"></i> Informaci√≥n del Local</h2>
            <div class="info-grid">
                <div class="info-item">
                    <i class="fas fa-map-pin"></i>
                    <div class="info-content">
                        <h3>Direcci√≥n</h3>
                        <p>Av. Roque S√°enz Pe√±a 47, Bialet Mass√©, C√≥rdoba</p>
                    </div>
                </div>
                
                <div class="info-item">
                    <i class="fas fa-clock"></i>
                    <div class="info-content">
                        <h3>Horarios</h3>
                        <p>Lunes a Domingos: 12:00 - 00:00 hrs</p>
                    </div>
                </div>
                
                <div class="info-item">
                    <i class="fas fa-phone"></i>
                    <div class="info-content">
                        <h3>Tel√©fono</h3>
                        <p>+54 3541-387884</p>
                    </div>
                </div>
                
                <div class="info-item">
                    <i class="fas fa-whatsapp"></i>
                    <div class="info-content">
                        <h3>WhatsApp</h3>
                        <p>+54 3541-387884 (Pedidos)</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- PREVIEW STREET VIEW -->
        <section class="street-view-container">
            <h2>Vista Previa del Local</h2>
            <div class="street-view-preview">
                <h3>AMICI Pizza y Lomos</h3>
                <p>As√≠ se ve nuestro local desde la calle. Haz clic en el bot√≥n "Ver en 3D" para explorar en 360¬∞</p>
                <a href="https://www.google.com/maps/place/AMICI+pizza+y+lomos/@-31.3074574,-64.4633237,3a,75y,51.42h,93.05t/data=!3m7!1e1!3m5!1sS7tINPoBRRVwuR9i01qZmw!2e0!6shttps:%2F%2Fstreetviewpixels-pa.googleapis.com%2Fv1%2Fthumbnail%3Fcb_client%3Dmaps_sv.tactile%26w%3D900%26h%3D600%26pitch%3D-3.051350058122196%26panoid%3DS7tINPoBRRVwuR9i01qZmw%26yaw%3D51.421320818227734!7i16384!8i8192!4m15!1m8!3m7!1s0x942d6550e7718de5:0x101de55630bce728!2sAMICI+pizza+y+lomos!8m2!3d-31.3073007!4d-64.4632021!10e1!16s%2Fg%2F11s_z0gg11!3m5!1s0x942d6550e7718de5:0x101de55630bce728!8m2!3d-31.3073007!4d-64.4632021!16s%2Fg%2F11s_z0gg11?entry=ttu&g_ep=EgoyMDI2MDEwNy.0IKXMDSoASAFQAw%3D%3D" 
                   target="_blank" 
                   class="map-btn" 
                   style="background: rgba(255, 255, 255, 0.9); color: #000; font-weight: 700;">
                    <i class="fas fa-external-link-alt"></i>
                    Abrir Vista 360¬∞ Completa
                </a>
            </div>
        </section>
    </main>

    <!-- MODAL PARA MOSTRAR RECORRIDO -->
    <div class="route-modal" id="routeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-route"></i> Recorrido hasta AMICI</h3>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="route-map-container">
                    <iframe id="routeMap" frameborder="0" allowfullscreen></iframe>
                </div>
                
                <div class="route-info" id="routeInfo">
                    <!-- Se llena din√°micamente con JavaScript -->
                </div>
                
                <div class="modal-actions">
                    <button class="modal-btn modal-btn-primary" id="openInMaps">
                        <i class="fas fa-external-link-alt"></i>
                        Abrir en Google Maps
                    </button>
                    <button class="modal-btn modal-btn-secondary" id="shareRoute">
                        <i class="fas fa-share"></i>
                        Compartir ruta
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="background-dark-1">
        <div class="container">
            <div class="content">
                <div class="container-logo">
                    <span>Comidas AMICI</span>
                </div>

                <ul>
                    <li>
                        <i class="fa-solid fa-location-dot"></i>
                        <span>Av. Roque S√°enz Pe√±a 47, Bialet Mass√©</span>
                    </li>
                    <li>
                        <i class="fa-solid fa-phone"></i>
                        <span>3541-387884</span>
                    </li>
                </ul>
            </div>

            <div class="container-social-copyright">
                <p>&copy; 2026 SsnkCode. Todos los derechos reservados. 
                   <span><a href="https://wa.me/543541682310" style="color: var(--color-primary); text-decoration: none;">3541682310</a></span>
                </p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    
    <!-- JAVASCRIPT COMPLETO Y FUNCIONAL -->
    <script>
        // COORDENADAS DE AMICI - DATOS REALES
        const AMICI_COORDINATES = {
            name: "AMICI Pizza y Lomos",
            lat: -31.3073007,
            lng: -64.4632021,
            address: "Av. Roque S√°enz Pe√±a 47, Bialet Mass√©, C√≥rdoba, Argentina",
            phone: "+54 3541-387884",
            whatsapp: "543541387884",
            placeId: "ChIJd7TvpI3zCpMRcWtPwXv_W-w",
            streetViewUrl: "https://www.google.com/maps/place/AMICI+pizza+y+lomos/@-31.3074574,-64.4633237,3a,75y,51.42h,93.05t/data=!3m7!1e1!3m5!1sS7tINPoBRRVwuR9i01qZmw!2e0!6shttps:%2F%2Fstreetviewpixels-pa.googleapis.com%2Fv1%2Fthumbnail%3Fcb_client%3Dmaps_sv.tactile%26w%3D900%26h%3D600%26pitch%3D-3.051350058122196%26panoid%3DS7tINPoBRRVwuR9i01qZmw%26yaw%3D51.421320818227734!7i16384!8i8192!4m15!1m8!3m7!1s0x942d6550e7718de5:0x101de55630bce728!2sAMICI+pizza+y+lomos!8m2!3d-31.3073007!4d-64.4632021!10e1!16s%2Fg%2F11s_z0gg11!3m5!1s0x942d6550e7718de5:0x101de55630bce728!8m2!3d-31.3073007!4d-64.4632021!16s%2Fg%2F11s_z0gg11?entry=ttu&g_ep=EgoyMDI2MDEwNy.0IKXMDSoASAFQAw%3D%3D",
            mapsEmbedUrl: "https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d6817.6959124335435!2d-64.46668851069397!3d-31.307947198104166!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMzHCsDE4JzI2LjIiUyA2NMKwMjcnNDguMCJX!5e0!3m2!1ses!2sar!4v1765820066938!5m2!1ses!2sar"
        };

        // Variables globales
        let userLocation = null;
        let currentRouteUrl = null;
        let routeDistance = null;
        let routeTime = null;

        // Esperar a que el DOM est√© completamente cargado
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM cargado - Inicializando funcionalidades...');
            
            // Elementos del DOM
            const getDirectionsBtn = document.getElementById('getDirectionsBtn');
            const locationMessage = document.getElementById('locationMessage');
            const routeModal = document.getElementById('routeModal');
            const closeModal = document.getElementById('closeModal');
            const routeMap = document.getElementById('routeMap');
            const routeInfo = document.getElementById('routeInfo');
            const openInMapsBtn = document.getElementById('openInMaps');
            const shareRouteBtn = document.getElementById('shareRoute');
            const mapLoader = document.getElementById('mapLoader');
            
            // Verificar que todos los elementos existen
            if (!getDirectionsBtn) {
                console.error('Error: Bot√≥n getDirectionsBtn no encontrado');
                return;
            }
            
            // 1. BOT√ìN PRINCIPAL: VER RECORRIDO DESDE MI UBICACI√ìN
            getDirectionsBtn.addEventListener('click', function() {
                console.log('Bot√≥n de direcciones clickeado');
                const btn = this;
                const originalText = btn.innerHTML;
                
                // Mostrar mensaje de carga
                showMessage('<span class="spinner"></span> Detectando tu ubicaci√≥n...', 'info');
                btn.disabled = true;
                btn.innerHTML = '<span class="spinner"></span> Detectando ubicaci√≥n...';
                
                // Verificar si el navegador soporta geolocalizaci√≥n
                if (!navigator.geolocation) {
                    console.log('Geolocalizaci√≥n no soportada por el navegador');
                    showMessage('‚ùå Tu navegador no soporta geolocalizaci√≥n. Abriendo Google Maps...', 'error');
                    openGoogleMapsWithoutOrigin();
                    btn.disabled = false;
                    btn.innerHTML = originalText;
                    return;
                }
                
                // Opciones de geolocalizaci√≥n
                const geoOptions = {
                    enableHighAccuracy: true,  // Usar GPS si est√° disponible
                    timeout: 15000,           // 15 segundos de timeout
                    maximumAge: 0             // No usar cach√©
                };
                
                // Pedir ubicaci√≥n actual
                navigator.geolocation.getCurrentPosition(
                    // √âXITO: Obtener coordenadas del usuario
                    function(position) {
                        console.log('Ubicaci√≥n obtenida:', position.coords);
                        userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude,
                            accuracy: position.coords.accuracy,
                            timestamp: new Date().toISOString()
                        };
                        
                        showMessage('‚úÖ Ubicaci√≥n detectada. Calculando ruta...', 'success');
                        
                        // Calcular distancia y tiempo estimado
                        routeDistance = calculateDistance(
                            userLocation.lat, 
                            userLocation.lng,
                            AMICI_COORDINATES.lat,
                            AMICI_COORDINATES.lng
                        );
                        
                        // Calcular tiempo estimado (promedio 40km/h)
                        routeTime = Math.round((routeDistance.km / 40) * 60);
                        if (routeTime < 5) routeTime = 5; // M√≠nimo 5 minutos
                        
                        // Crear URL para Google Maps
                        currentRouteUrl = `https://www.google.com/maps/dir/?api=1` +
                                        `&origin=${userLocation.lat},${userLocation.lng}` +
                                        `&destination=${AMICI_COORDINATES.lat},${AMICI_COORDINATES.lng}` +
                                        `&destination_place_id=${AMICI_COORDINATES.placeId}` +
                                        `&travelmode=driving`;
                        
                        // Crear URL para iframe con ruta
                        const embedUrl = `https://www.google.com/maps/embed/v1/directions?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8` +
                                       `&origin=${userLocation.lat},${userLocation.lng}` +
                                       `&destination=${AMICI_COORDINATES.lat},${AMICI_COORDINATES.lng}` +
                                       `&mode=driving&language=es`;
                        
                        // Mostrar modal con la ruta
                        showRouteModal(embedUrl, routeDistance, routeTime);
                        
                        // Restaurar bot√≥n
                        setTimeout(() => {
                            btn.disabled = false;
                            btn.innerHTML = originalText;
                        }, 500);
                        
                        // Guardar en localStorage
                        localStorage.setItem('last_user_location', JSON.stringify(userLocation));
                        localStorage.setItem('last_route_time', new Date().toISOString());
                        
                    },
                    // ERROR: No se pudo obtener ubicaci√≥n
                    function(error) {
                        console.error('Error de geolocalizaci√≥n:', error);
                        let errorMsg = "No se pudo obtener tu ubicaci√≥n. ";
                        
                        switch(error.code) {
                            case error.PERMISSION_DENIED:
                                errorMsg = "üìç Permiso denegado. Para una ruta precisa, por favor permite el acceso a tu ubicaci√≥n en la configuraci√≥n de tu navegador.";
                                break;
                            case error.POSITION_UNAVAILABLE:
                                errorMsg = "üìç Ubicaci√≥n no disponible. Aseg√∫rate de tener el GPS activado o estar conectado a una red WiFi.";
                                break;
                            case error.TIMEOUT:
                                errorMsg = "üìç Tiempo de espera agotado. Verifica tu conexi√≥n a internet.";
                                break;
                            default:
                                errorMsg = "üìç Error desconocido al obtener la ubicaci√≥n.";
                        }
                        
                        showMessage(`‚ùå ${errorMsg} Abriendo Google Maps...`, 'error');
                        
                        // Abrir Google Maps sin ubicaci√≥n
                        setTimeout(() => {
                            openGoogleMapsWithoutOrigin();
                        }, 2000);
                        
                        // Restaurar bot√≥n
                        btn.disabled = false;
                        btn.innerHTML = originalText;
                    },
                    geoOptions
                );
            });
            
            // 2. MOSTRAR MODAL CON LA RUTA
            function showRouteModal(embedUrl, distance, time) {
                // Cargar el iframe con la ruta
                routeMap.src = embedUrl;
                
                // Actualizar informaci√≥n de la ruta
                updateRouteInfo(distance, time);
                
                // Mostrar modal
                routeModal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Mostrar mensaje de √©xito
                showMessage('‚úÖ Ruta calculada exitosamente. Modal abierto.', 'success');
            }
            
            // 3. ACTUALIZAR INFORMACI√ìN DE LA RUTA
            function updateRouteInfo(distance, time) {
                if (!routeInfo) return;
                
                // Calcular consumo aproximado de combustible (8km por litro)
                const fuelConsumption = (distance.km / 8).toFixed(1);
                
                routeInfo.innerHTML = `
                    <div class="route-item">
                        <i class="fas fa-route"></i>
                        <div>
                            <div class="label">DISTANCIA</div>
                            <div class="value">${distance.km.toFixed(1)} km</div>
                        </div>
                    </div>
                    <div class="route-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <div class="label">TIEMPO ESTIMADO</div>
                            <div class="value">${time} minutos</div>
                        </div>
                    </div>
                    <div class="route-item">
                        <i class="fas fa-gas-pump"></i>
                        <div>
                            <div class="label">COMBUSTIBLE APROX.</div>
                            <div class="value">${fuelConsumption} L</div>
                        </div>
                    </div>
                    <div class="route-item">
                        <i class="fas fa-car"></i>
                        <div>
                            <div class="label">MODO</div>
                            <div class="value">En auto</div>
                        </div>
                    </div>
                `;
            }
            
            // 4. CERRAR MODAL
            if (closeModal) {
                closeModal.addEventListener('click', function() {
                    routeModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                    // Limpiar iframe para liberar memoria
                    routeMap.src = '';
                });
            }
            
            // Cerrar modal al hacer clic fuera
            routeModal.addEventListener('click', function(e) {
                if (e.target === routeModal) {
                    routeModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                    routeMap.src = '';
                }
            });
            
            // 5. ABRIR EN GOOGLE MAPS
            if (openInMapsBtn) {
                openInMapsBtn.addEventListener('click', function() {
                    if (currentRouteUrl) {
                        window.open(currentRouteUrl, '_blank', 'noopener,noreferrer');
                    } else {
                        openGoogleMapsWithoutOrigin();
                    }
                });
            }
            
            // 6. COMPARTIR RUTA
            if (shareRouteBtn) {
                shareRouteBtn.addEventListener('click', function() {
                    if (!currentRouteUrl) {
                        currentRouteUrl = `https://www.google.com/maps/dir/?api=1&destination=${AMICI_COORDINATES.lat},${AMICI_COORDINATES.lng}`;
                    }
                    
                    const shareText = `üìç Ruta hacia AMICI Pizza y Lomos\n` +
                                   `Distancia: ${routeDistance ? routeDistance.km.toFixed(1) + ' km' : 'Calculando...'}\n` +
                                   `Tiempo estimado: ${routeTime ? routeTime + ' minutos' : 'Calculando...'}\n` +
                                   `Ubicaci√≥n: ${AMICI_COORDINATES.address}\n\n` +
                                   `Ver ruta completa: ${currentRouteUrl}`;
                    
                    // Intentar usar Web Share API
                    if (navigator.share) {
                        navigator.share({
                            title: 'Ruta a AMICI Pizza y Lomos',
                            text: shareText,
                            url: currentRouteUrl
                        }).catch(err => {
                            console.log('Error al compartir:', err);
                            copyToClipboard(shareText);
                        });
                    } else {
                        // Fallback: copiar al portapapeles
                        copyToClipboard(shareText);
                    }
                });
            }
            
            // 7. FUNCI√ìN PARA COPIAR AL PORTAPAPELES
            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(() => {
                    showMessage('‚úÖ Ruta copiada al portapapeles', 'success');
                }).catch(err => {
                    console.error('Error al copiar:', err);
                    // Fallback para navegadores antiguos
                    const textArea = document.createElement('textarea');
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    try {
                        document.execCommand('copy');
                        showMessage('‚úÖ Ruta copiada al portapapeles', 'success');
                    } catch (err) {
                        showMessage('‚ùå Error al copiar la ruta', 'error');
                    }
                    document.body.removeChild(textArea);
                });
            }
            
            // 8. FUNCI√ìN PARA ABRIR GOOGLE MAPS SIN UBICACI√ìN
            function openGoogleMapsWithoutOrigin() {
                const mapsUrl = `https://www.google.com/maps/dir/?api=1` +
                              `&destination=${AMICI_COORDINATES.lat},${AMICI_COORDINATES.lng}` +
                              `&destination_place_id=${AMICI_COORDINATES.placeId}` +
                              `&travelmode=driving`;
                
                window.open(mapsUrl, '_blank', 'noopener,noreferrer');
            }
            
            // 9. FUNCI√ìN PARA CALCULAR DISTANCIA (F√≥rmula del haversine)
            function calculateDistance(lat1, lon1, lat2, lon2) {
                const R = 6371; // Radio de la Tierra en km
                const dLat = (lat2 - lat1) * Math.PI / 180;
                const dLon = (lon2 - lon1) * Math.PI / 180;
                
                const a = 
                    Math.sin(dLat/2) * Math.sin(dLat/2) +
                    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                    Math.sin(dLon/2) * Math.sin(dLon/2);
                
                const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
                const km = R * c;
                
                return { km };
            }
            
            // 10. FUNCI√ìN PARA MOSTRAR MENSAJES
            function showMessage(text, type = "info") {
                if (!locationMessage) return;
                
                locationMessage.innerHTML = text;
                locationMessage.className = "location-message show " + type;
                
                // Ocultar mensaje despu√©s de 5 segundos
                setTimeout(() => {
                    if (locationMessage.classList.contains("show")) {
                        locationMessage.classList.remove("show");
                    }
                }, 5000);
            }
            
            // 11. MEJORAS DE ACCESIBILIDAD PARA EL MODAL
            document.addEventListener('keydown', function(e) {
                if (routeModal.classList.contains('active')) {
                    // Cerrar modal con Escape
                    if (e.key === 'Escape') {
                        routeModal.classList.remove('active');
                        document.body.style.overflow = 'auto';
                        routeMap.src = '';
                    }
                    // Navegaci√≥n con Tab dentro del modal
                    if (e.key === 'Tab') {
                        const focusableElements = routeModal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                        const firstElement = focusableElements[0];
                        const lastElement = focusableElements[focusableElements.length - 1];
                        
                        if (e.shiftKey && document.activeElement === firstElement) {
                            e.preventDefault();
                            lastElement.focus();
                        } else if (!e.shiftKey && document.activeElement === lastElement) {
                            e.preventDefault();
                            firstElement.focus();
                        }
                    }
                }
            });
            
            // 12. INICIALIZACI√ìN ADICIONAL
            function initialize() {
                console.log('Inicializando aplicaci√≥n...');
                
                // Guardar coordenadas en localStorage
                try {
                    localStorage.setItem('amici_coordinates', JSON.stringify(AMICI_COORDINATES));
                } catch (e) {
                    console.log('No se pudo guardar en localStorage:', e);
                }
                
                // Intentar cargar ubicaci√≥n anterior
                try {
                    const lastLocation = localStorage.getItem('last_user_location');
                    if (lastLocation) {
                        userLocation = JSON.parse(lastLocation);
                        console.log('Ubicaci√≥n anterior cargada:', userLocation);
                    }
                } catch (e) {
                    console.log('No se pudo cargar ubicaci√≥n anterior:', e);
                }
                
                // Mejorar comportamiento del navbar en m√≥viles
                improveNavbarMobile();
                
                // A√±adir clase al body para estilos espec√≠ficos
                document.body.classList.add('map-page-loaded');
            }
            
            // 13. MEJORAR NAVBAR EN M√ìVILES
            function improveNavbarMobile() {
                const navbarToggler = document.querySelector('.navbar-toggler');
                const navbarCollapse = document.querySelector('.navbar-collapse');
                
                if (navbarToggler && navbarCollapse) {
                    // Prevenir cierre autom√°tico en clics dentro del men√∫
                    navbarCollapse.addEventListener('click', function(e) {
                        if (e.target.tagName === 'A') {
                            // Cerrar men√∫ despu√©s de un retraso para animaci√≥n
                            setTimeout(() => {
                                if (window.innerWidth < 992) {
                                    navbarToggler.click();
                                }
                            }, 300);
                        }
                    });
                    
                    // Mejorar accesibilidad
                    navbarToggler.setAttribute('aria-label', 'Alternar men√∫ de navegaci√≥n');
                    navbarCollapse.setAttribute('aria-label', 'Men√∫ principal');
                }
            }
            
            // 14. MANEJAR CARGA DEL MAPA
            if (mapLoader) {
                const mainMap = document.querySelector('.container-map iframe');
                if (mainMap) {
                    mainMap.addEventListener('load', function() {
                        mapLoader.classList.remove('active');
                        console.log('Mapa principal cargado');
                    });
                    
                    mainMap.addEventListener('error', function() {
                        mapLoader.classList.remove('active');
                        console.error('Error al cargar el mapa');
                        showMessage('‚ùå Error al cargar el mapa. Por favor, intenta recargar la p√°gina.', 'error');
                    });
                }
            }
            
            // 15. PREVENIR COMPORTAMIENTO POR DEFECTO EN FORMULARIOS (si los hay)
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                });
            });
            
            // 16. INICIALIZAR TODO
            initialize();
            
            // 17. MANEJAR CAMBIOS DE ORIENTACI√ìN EN M√ìVILES
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    // Recalcular si es necesario
                    if (routeModal.classList.contains('active') && userLocation) {
                        const embedUrl = `https://www.google.com/maps/embed/v1/directions?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8` +
                                       `&origin=${userLocation.lat},${userLocation.lng}` +
                                       `&destination=${AMICI_COORDINATES.lat},${AMICI_COORDINATES.lng}` +
                                       `&mode=driving&language=es`;
                        routeMap.src = embedUrl;
                    }
                }, 300);
            });
            
        }); // Fin del DOMContentLoaded
        
        // 18. MANEJAR ERRORES GLOBALES
        window.addEventListener('error', function(e) {
            console.error('Error global:', e.error);
        });
        
        // 19. EXPORTAR FUNCIONES PARA DEBUG (opcional)
        window.AMICI_MAP = {
            getCoordinates: function() { return AMICI_COORDINATES; },
            getUserLocation: function() { return userLocation; },
            calculateRoute: function() {
                const btn = document.getElementById('getDirectionsBtn');
                if (btn) btn.click();
            },
            showTestRoute: function(lat, lng) {
                // Funci√≥n para testing
                userLocation = { lat: lat || -31.308000, lng: lng || -64.465000 };
                const distance = calculateDistance(userLocation.lat, userLocation.lng, AMICI_COORDINATES.lat, AMICI_COORDINATES.lng);
                const time = Math.round((distance.km / 40) * 60);
                const embedUrl = `https://www.google.com/maps/embed/v1/directions?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8` +
                               `&origin=${userLocation.lat},${userLocation.lng}` +
                               `&destination=${AMICI_COORDINATES.lat},${AMICI_COORDINATES.lng}` +
                               `&mode=driving&language=es`;
                showRouteModal(embedUrl, distance, time);
            }
        };
        
        // Funci√≥n auxiliar global para calcular distancia
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371;
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                      Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            const km = R * c;
            return { km };
        }
        
        // Funci√≥n auxiliar global para mostrar modal
        function showRouteModal(embedUrl, distance, time) {
            const modal = document.getElementById('routeModal');
            const routeMap = document.getElementById('routeMap');
            const routeInfo = document.getElementById('routeInfo');
            
            if (modal && routeMap && routeInfo) {
                routeMap.src = embedUrl;
                
                const fuelConsumption = (distance.km / 8).toFixed(1);
                routeInfo.innerHTML = `
                    <div class="route-item">
                        <i class="fas fa-route"></i>
                        <div>
                            <div class="label">DISTANCIA</div>
                            <div class="value">${distance.km.toFixed(1)} km</div>
                        </div>
                    </div>
                    <div class="route-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <div class="label">TIEMPO ESTIMADO</div>
                            <div class="value">${time} minutos</div>
                        </div>
                    </div>
                    <div class="route-item">
                        <i class="fas fa-gas-pump"></i>
                        <div>
                            <div class="label">COMBUSTIBLE APROX.</div>
                            <div class="value">${fuelConsumption} L</div>
                        </div>
                    </div>
                    <div class="route-item">
                        <i class="fas fa-car"></i>
                        <div>
                            <div class="label">MODO</div>
                            <div class="value">En auto</div>
                        </div>
                    </div>
                `;
                
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }
        
    </script>
    
    <!-- SCRIPT DE NAVBAR SCROLL (OPCIONAL) -->
    <script>
        // Script simple para navbar scroll
        document.addEventListener('DOMContentLoaded', function() {
            const navbar = document.querySelector('.navbar');
            let lastScroll = 0;
            
            window.addEventListener('scroll', function() {
                const currentScroll = window.pageYOffset;
                
                if (currentScroll <= 0) {
                    navbar.style.boxShadow = 'none';
                    return;
                }
                
                if (currentScroll > lastScroll && currentScroll > 100) {
                    // Scrolling down
                    navbar.style.transform = 'translateY(-100%)';
                } else {
                    // Scrolling up
                    navbar.style.transform = 'translateY(0)';
                    navbar.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
                }
                
                lastScroll = currentScroll;
            });
            
            // Mejorar accesibilidad del navbar
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('focus', function() {
                    this.style.outline = '2px solid #4dabf7';
                    this.style.outlineOffset = '2px';
                });
                link.addEventListener('blur', function() {
                    this.style.outline = 'none';
                });
            });
        });
    </script>
    
</body>
</html>